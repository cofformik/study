SSTACK	SEGMENT STACK
		DW 32 DUP(?)
SSTACK	ENDS

CODE   	SEGMENT
	   	ASSUME CS:CODE
START:	MOV DX, 0680H
		OUT DX, AL
		MOV DX, 0600H
		MOV BX, 00H
SOL:	CALL P1
		CALL P2
		CALL P3
		CALL P4
		JMP SOL
		
P1:		MOV CX,20H
		MOV AL, 00H
LP1:	OUT DX, AL	
		CALL DELAY		
		ADD AL, 01H
		LOOP LP1
		RET
		
P2:		MOV CX,20H
		MOV AL, 0FFH
LP2:	OUT DX, AL	
		CALL DELAY		
		SUB AL, 01H
		LOOP LP2
		RET
		
P3:		MOV CX,20H
		MOV AL, 0DFH
LP3:	OUT DX, AL	
		CALL DELAY		
		SUB AL, 00H
		LOOP LP3
P4:		MOV CX,20H
		MOV AL, 0FFH
LP4:	OUT DX, AL	
		CALL DELAY		
		SUB AL, 01H
		LOOP LP4
		RET
	
DELAY:	PUSH CX
		MOV CX, 8FFH
PDELAY:	
LOOP PDELAY
		POP CX
		RET
		
CODE	ENDS
		END  START			
